<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>𝘗𝘢𝘤𝘪𝘧𝘧𝘪𝘤</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Serif:ital,wght@1,200;1,300&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="style.css" />
    <script src="jquery.min.js"></script>
    <script src="TweenMax.min.js"></script>
    <script src="hqy-lazyload.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/lax.js"></script>
  </head>
  <body>
    <div class="navbar">
      <ul>
        <li><a href="#" class="logo-main"></a></li>
        <li><h2 class="menuitem">Works</h2></li>
        <li><h2 class="menuitem">Contact</h2></li>
      </ul>
    </div>

    <div class="mob-navbar" id="mob-navbar">
      <span id="bar-container"> </span>

      <ul id="menu-list" class="menu-list">
        <li><h2 class="menuitem">Works</h2></li>
        <li><h2 class="menuitem">Contact</h2></li>
      </ul>
    </div>

    <a href="#" id="logo-mobile"></a>
    <svg width="100" height="80" class="hamburger" id="hamburger">
      <rect y="26" fill="#FFFFFF" width="273" height="3" />
      <rect y="38" fill="#FFFFFF" width="273" height="3" />
      <rect y="50" fill="#FFFFFF" width="273" height="3" />
    </svg>
    <p id="menu-mobile-text">X</p>

    <style>
      rect {
        fill: white;
      }
    </style>
    <div class="lax">
      <div class="blue-container">
        <div
          data-lax-translate-y="0 0,422 -100"
          data-lax-opacity="0 1, 100 1, 600 0"
          class="lax title-wrapper"
        >
          <span class="circle"></span>
          <h1 id="paciffic">Paciffic</h1>
          <p class="italic">pa·​ciff·​ic | \ pə-ˈsi-fik</p>
          <p id="short-desc">
            adjective - having a soothing appearance or effect (mild paciffic
            breezes), also the largest, deepest and oldest water reservoir in
            the world
          </p>
        </div>
        <div class="seaimg-container">
          <img src="sea-tlo-nowe.jpg" class="seaimg" alt="Sea" />
          <div class="flash"></div>
        </div>
      </div>

      <div class="work-container">
        <div class="video-container">
          <video
            class="hqy-lazy seawater-video-mobile"
            autoplay="autoplay"
            loop
            muted
            playsinline
          >
            <source
              src="placeholder.jpg"
              data-src="palmtrees.mp4"
              poster="placeholder.jpg"
              type="video/mp4"
            />
            Your browser does not support the video tag.
          </video>
          <video
            class="hqy-lazy seawater-video"
            autoplay="autoplay"
            loop
            muted
            playsinline
          >
            <source
              src="placeholder.jpg"
              data-src="palmtrees_d.mp4"
              type="video/mp4"
            />
            <source
              src="placeholder.jpg"
              data-src="palmtrees_d.webm"
              type="video/webm"
            />
            Your browser does not support the video tag.
          </video>
        </div>

        <div class="work-img">
          <p class="lax description-text lax_preset_slideY:622:133"
            
          
          >
            It was popularised in the 1960s with the release, including versions
            of Lorem Ipsum.
          </p>
          <div data-lax-translate-y="vh 190, 0 -80" class="lax thumbnail-1" data-lax-anchor="self">
            <h1 class="title1">Thousand Suns</h1>
            <div class="thousand-suns">
              <div class="cta"><a href="#" class="see-album"></a></div>
            </div>
          </div>

          <p class="lax description-text lax_preset_slideY:1287:342"
          data-lax-translate-y="vh 50, 0 -80"
          data-lax-opacity="vh 0, vh 0, 400 1" 
          data-lax-anchor="self"
          >
            Many desktop publishing packages and web page editors now use Lorem
            Ipsum
          </p>
        </div>
      </div>
      <div class="work-container2">
        <div class="work-img-2">
          <a href="#" class="lax exotic"
          data-lax-opacity="vh 0, vh 0, 0 1" 
          data-lax-anchor="self"
          ></a>
          <a href="#" class="goldbars"></a>
          <div class="cta-container">
          <div class="cta"><a href="#" class="see-album"></a></div></div>
          <!-- data-lax-translate-y="0 260, 3200 -300" -->
        </div>

        <img src="previmage.jpg" class="mini-image" alt="preview" />
      </div>

      <div data-scroll class="work-container3">
        <div class="video-container">
          <video
            class="hqy-lazy seawater-video-mobile"
            autoplay="autoplay"
            loop
            muted
            playsinline
          >
            <source
              src="placeholder.jpg"
              data-src="mediterraneanblue.mp4"
              poster="placeholder.jpg"
              type="video/mp4"
            />

            Your browser does not support the video tag.
          </video>
          <video
            class="hqy-lazy seawater-video"
            autoplay="autoplay"
            loop
            muted
            playsinline
          >
            <source
              src="placeholder.jpg"
              data-src="mediterraneanblue_d.mp4"
              type="video/mp4"
            />
            <source
              src="placeholder.jpg"
              data-src="mediterraneanblue_d.webm"
              type="video/webm"
            />
            Your browser does not support the video tag.
          </video>
        </div>
        <div class="SliderTitleWrapper">
          <span class="whiteline"> </span>
          <h1 id="SliderTitle">Aqua</h1>

          <span class="whiteline"> </span>
        </div>
        <div class="blank-square"></div>
      </div>
    </div>

    <script>
//waiting for sea image to load, then run function that shows the sea img immediately, and white glow at the end      
        var seaimg = document.querySelector(".seaimg");
        var flash = document.querySelector(".flash");

        $('.seaimg').on('load', function () {
          console.log("everything loaded");
          setTimeout(() => {
          seaimg.className = "seaimg-loaded";
          flash.className = "flash-loaded";
          }, 1222);
//if the the is resource is already loaded in cache, the browser doesn't >load< the data, thus preventing the function from running. Code below solves that and checks for cache on every visit      
}).each(function(){
  if(this.complete) {
    $(this).trigger('load');
  }
});



          // Run your code here...

//some localstorage code

//           var whiteline = document.querySelector(".whiteline");
//           var secondContainer = document.querySelector(".second-container");

//           var result = localStorage.getItem('hasRan');

//           if (!result) {
//             alert("Never ran before");
//             // Set now 
//             localStorage.setItem('hasRan', true);
//           } else {
//             // we have ran before, jump to screen 2
//             whiteline.className += "loaded"; 
// }


     



      (function () {
        // Initialize lazyload for video
        var hqyLazy = new HqyLazyload();
      })();

      // jQuery animation for colored menu turning orange:
      window.onload = function () {
        lax.setup(); // init

        const updateLax = () => {
          lax.update(window.scrollY);
          window.requestAnimationFrame(updateLax);
        };

        window.requestAnimationFrame(updateLax);
      };
      var tStart = 100, // Start transition 100px from top
        tEnd = 700, // End at 500px
        cStart = [255, 255, 255], // White
        cEnd = [255, 166, 27], // Gold
        cDiff = [cEnd[0] - cStart[0], cEnd[1] - cStart[1], cEnd[2] - cStart[2]];

      $(document).ready(function () {
        $(document).scroll(function () {
          var p = ($(this).scrollTop() - tStart) / (tEnd - tStart); // % of transition
          p = Math.min(1, Math.max(0, p)); // Clamp to [0, 1]
          var cBg = [
            Math.round(cStart[0] + cDiff[0] * p),
            Math.round(cStart[1] + cDiff[1] * p),
            Math.round(cStart[2] + cDiff[2] * p),
          ];

          $(".menuitem").css("color", "rgb(" + cBg.join(",") + ")");
          $("#hamburger > rect").css("fill", "rgb(" + cBg.join(",") + ")");
        });
      });





      // var tStart2 = 600 // Start transition 100px from top
      //   , tEnd2 = 1200   // End at 500px
      //   , cStart2 = [255, 255, 255]  // White
      //   , cEnd2 = [255, 166, 27]  // Gold
      //   , cDiff2 = [cEnd2[0] - cStart2[0], cEnd2[1] - cStart2[1], cEnd2[2] - cStart2[2]];

      // $(document).ready(function(){
      //     $(document).scroll(function() {
      //         var p = ($(this).scrollTop() - tStart2) / (tEnd2 - tStart2); // % of transition
      //         p = Math.min(1, Math.max(0, p)); // Clamp to [0, 1]
      //         var cBg = [Math.round(cStart2[0] + cDiff2[0] * p), Math.round(cStart2[1] + cDiff2[1] * p), Math.round(cStart2[2] + cDiff2[2] * p)];
      //         $(".work-img").css('background-color', 'rgb(' + cBg.join(',') +')');
      //     });
      // });

      // Detecting if hamburger clicked:
      var z = document.querySelector("#hamburger");
      z.addEventListener("click", myFunction);
      var xclose = document.querySelector("#menu-mobile-text");
      xclose.addEventListener("click", myFunction);

      // animations for menu using GSAP
      function myFunction() {
        var x = document.getElementById("mob-navbar");
        var y = document.getElementById("menu-list");
        var bigx = document.getElementById("menu-mobile-text");
        var hamb = document.getElementById("hamburger");
        var logom = document.getElementById("logo-mobile");

        menuState = 0;

        if (x.className === "mob-navbar") {
          menuState = 1;
          var tlIn3 = new TimelineLite();
          tlIn3
            .set(bigx, { xPercent: 0, rotation: 0 }) // <-- Resets it's position
            .to(bigx, 0.1, { xPercent: -170, autoAlpha: 1 });
          var tlIn = new TimelineLite();
          tlIn
            .set(x, { xPercent: 0, rotation: 0 }) 
            .to(x, 0.3, { xPercent: 0, autoAlpha: 1 });
          var tlIn2 = new TimelineLite();
          tlIn2
            .set(y, { xPercent: +20, rotation: 0 }) 
            .to(y, 0.3, { xPercent: 0, autoAlpha: 1 });
          var tlIn5 = new TimelineLite();
          tlIn5
            .set(logom, { xPercent: 0, rotation: 0 }) 
            .to(logom, 0.3, { xPercent: -120, autoAlpha: 1 });

          var tlIn4 = new TimelineLite();
          tlIn4
            .set(hamb, { scaleX: 1, xPercent: 0 })
            .to(hamb, 0, { autoAlpha: 1 })
            .to(hamb, 0, { xPercent: -90 })
            .to(hamb, 0.1, { scaleX: 8, transformOrigin: "100% 50%" });

          x.className = "mob-navbar-open";
        } else {
          menuState = 0;
          var tlIn = new TimelineLite();
          tlIn
            .set(x, { xPercent: 0, rotation: 0 }) // <-- Resets it's position
            .to(x, 0.5, { xPercent: 0, autoAlpha: 0 });
          var tlIn2 = new TimelineLite();
          tlIn2
            .set(y, { xPercent: 0, rotation: 0 }) 
            .to(y, 2, { xPercent: +20, autoAlpha: 0 });
          var tlIn3 = new TimelineLite();
          tlIn3
            .set(bigx, { xPercent: 0 }) 
            .to(bigx, 0.2, {  autoAlpha: 1 });
          var tlIn4 = new TimelineLite();
          tlIn4
            .set(hamb, { xPercent: 0 }) 
            .to(hamb, 0, { xPercent: +90, autoAlpha: 1 })
            .to(hamb, 0.2, {
              xPercent: 0,
              scaleX: 1,
              transformOrigin: "100% 50%",
            });

          var tlIn5 = new TimelineLite();
          tlIn5
            .set(logom, { xPercent: +120, rotation: 0 }) // <-- Resets it's position
            .to(logom, 0.3, { xPercent: 0, autoAlpha: 1 });
          x.className = "mob-navbar";
        }
      }



  //     window.onload = function () {
  //   lax.init()

  //   // Add a driver that we use to control our animations
  //   lax.addDriver('scrollY', function () {
  //     return window.scrollY
  //   })

  //   // Add animation bindings to elements
  //   lax.addElements('.selector', {
  //     scrollY: {
  //       translateX: [
  //         ["elInY", "elCenterY", "elOutY"],
  //         [0, 'screenWidth/2', 'screenWidth'],
  //       ]
  //     }
  //   })
  // }

  

    </script>
  </body>
</html>
